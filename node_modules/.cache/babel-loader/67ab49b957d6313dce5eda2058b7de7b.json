{"ast":null,"code":"var _jsxFileName = \"/Users/k19053kk/charirion/src/pages/LoginPage.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useContext } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport { Link, Navigate, useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../context/AuthContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst LoginPage = () => {\n  _s();\n\n  const [alert, setAlert] = useState(false);\n  const [alertMessage, setAlertMessage] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const navigate = useNavigate();\n  const context = useContext(AuthContext);\n\n  const handleChangeEmail = event => {\n    setEmail(event.target.value);\n  };\n\n  const handleChangePassword = event => {\n    setPassword(event.target.value);\n  };\n\n  const handleLoginButton = () => {\n    const auth = getAuth();\n    signInWithEmailAndPassword(auth, email, password).then(userCredential => {\n      navigate(\"/\");\n    }).catch(error => {\n      setAlert(true);\n\n      if (error.code === \"auth/email-already-in-use\") {\n        setAlertMessage(\"このメールアドレスは既存です\");\n      } // const errorCode = error.code;\n      // const errorMessage = error.message;\n\n\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: context.isLoggedIn ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Navigate, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this)\n    }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u30ED\\u30B0\\u30A4\\u30F3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 11\n      }, this), alert && /*#__PURE__*/_jsxDEV(Alert, {\n        variant: \"danger\",\n        children: alertMessage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formBasicEmail\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Email address\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"email\",\n            placeholder: \"Enter email\",\n            value: email,\n            onChange: handleChangeEmail\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n            className: \"text-muted\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n          className: \"mb-3\",\n          controlId: \"formBasicPassword\",\n          children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"password\",\n            placeholder: \"Password\",\n            value: password,\n            onChange: handleChangePassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"primary\",\n          type: \"button\",\n          onClick: handleLoginButton,\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/register\",\n            children: \"\\u65B0\\u898F\\u767B\\u9332\\u306F\\u3053\\u3061\\u3089\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  }, void 0, false);\n};\n\n_s(LoginPage, \"NjEz0f0aGGY9Oqz2mBhp1giaf/w=\", false, function () {\n  return [useNavigate];\n});\n\n_c = LoginPage;\nexport default LoginPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"sources":["/Users/k19053kk/charirion/src/pages/LoginPage.tsx"],"names":["useState","useContext","Form","Button","getAuth","signInWithEmailAndPassword","Link","Navigate","useNavigate","AuthContext","LoginPage","alert","setAlert","alertMessage","setAlertMessage","email","setEmail","password","setPassword","navigate","context","handleChangeEmail","event","target","value","handleChangePassword","handleLoginButton","auth","then","userCredential","catch","error","code","console","log","isLoggedIn"],"mappings":";;;AAAA,SAASA,QAAT,EAAmBC,UAAnB,QAAqC,OAArC;AACA,SAASC,IAAT,EAAeC,MAAf,QAA6B,iBAA7B;AACA,SAASC,OAAT,EAAkBC,0BAAlB,QAAoD,eAApD;AACA,SAASC,IAAT,EAAeC,QAAf,EAAyBC,WAAzB,QAA4C,kBAA5C;AACA,SAASC,WAAT,QAA4B,wBAA5B;;;;AAEA,MAAMC,SAAS,GAAG,MAAM;AAAA;;AACtB,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBZ,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAM,CAACa,YAAD,EAAeC,eAAf,IAAkCd,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACe,KAAD,EAAQC,QAAR,IAAoBhB,QAAQ,CAAS,EAAT,CAAlC;AACA,QAAM,CAACiB,QAAD,EAAWC,WAAX,IAA0BlB,QAAQ,CAAS,EAAT,CAAxC;AACA,QAAMmB,QAAQ,GAAGX,WAAW,EAA5B;AACA,QAAMY,OAAO,GAAGnB,UAAU,CAACQ,WAAD,CAA1B;;AAGA,QAAMY,iBAAiB,GAAIC,KAAD,IAEpB;AACJN,IAAAA,QAAQ,CAACM,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR;AACD,GAJD;;AAMA,QAAMC,oBAAoB,GAAIH,KAAD,IAEvB;AACJJ,IAAAA,WAAW,CAACI,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX;AACD,GAJD;;AAMA,QAAME,iBAAiB,GAAG,MAAM;AAC9B,UAAMC,IAAI,GAAGvB,OAAO,EAApB;AACAC,IAAAA,0BAA0B,CAACsB,IAAD,EAAOZ,KAAP,EAAcE,QAAd,CAA1B,CACGW,IADH,CACSC,cAAD,IAAoB;AACxBV,MAAAA,QAAQ,CAAC,GAAD,CAAR;AACD,KAHH,EAIGW,KAJH,CAIUC,KAAD,IAAW;AAChBnB,MAAAA,QAAQ,CAAC,IAAD,CAAR;;AACA,UAAImB,KAAK,CAACC,IAAN,KAAe,2BAAnB,EAAgD;AAC9ClB,QAAAA,eAAe,CAAC,gBAAD,CAAf;AACD,OAJe,CAKhB;AACA;;;AACAmB,MAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ;AACD,KAZH;AAaD,GAfD;;AAiBA,sBACE;AAAA,cACGX,OAAO,CAACe,UAAR,gBACC;AAAA,6BACE,QAAC,QAAD;AAAU,QAAA,EAAE,EAAE;AAAd;AAAA;AAAA;AAAA;AAAA;AADF,qBADD,gBAKC;AAAA,8BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF,EAEGxB,KAAK,iBAAI,QAAC,KAAD;AAAO,QAAA,OAAO,EAAC,QAAf;AAAA,kBAAyBE;AAAzB;AAAA;AAAA;AAAA;AAAA,cAFZ,eAIE,QAAC,IAAD;AAAA,gCACE,QAAC,IAAD,CAAM,KAAN;AAAY,UAAA,SAAS,EAAC,MAAtB;AAA6B,UAAA,SAAS,EAAC,gBAAvC;AAAA,kCACE,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,IAAD,CAAM,OAAN;AACE,YAAA,IAAI,EAAC,OADP;AAEE,YAAA,WAAW,EAAC,aAFd;AAGE,YAAA,KAAK,EAAEE,KAHT;AAIE,YAAA,QAAQ,EAAEM;AAJZ;AAAA;AAAA;AAAA;AAAA,kBAFF,eAQE,QAAC,IAAD,CAAM,IAAN;AAAW,YAAA,SAAS,EAAC;AAArB;AAAA;AAAA;AAAA;AAAA,kBARF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAYE,QAAC,IAAD,CAAM,KAAN;AAAY,UAAA,SAAS,EAAC,MAAtB;AAA6B,UAAA,SAAS,EAAC,mBAAvC;AAAA,kCACE,QAAC,IAAD,CAAM,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,IAAD,CAAM,OAAN;AACE,YAAA,IAAI,EAAC,UADP;AAEE,YAAA,WAAW,EAAC,UAFd;AAGE,YAAA,KAAK,EAAEJ,QAHT;AAIE,YAAA,QAAQ,EAAEQ;AAJZ;AAAA;AAAA;AAAA;AAAA,kBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAZF,eAqBE,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAC,SAAhB;AAA0B,UAAA,IAAI,EAAC,QAA/B;AAAwC,UAAA,OAAO,EAAEC,iBAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBArBF,eAwBE;AAAA;AAAA;AAAA;AAAA,gBAxBF,eAyBE;AAAA,iCACE,QAAC,IAAD;AAAM,YAAA,EAAE,EAAE,WAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAzBF;AAAA;AAAA;AAAA;AAAA;AAAA,cAJF;AAAA;AANJ,mBADF;AA4CD,CAlFD;;GAAMhB,S;UAKaF,W;;;KALbE,S;AAoFN,eAAeA,SAAf","sourcesContent":["import { useState, useContext } from \"react\";\nimport { Form, Button } from \"react-bootstrap\";\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\nimport { Link, Navigate, useNavigate } from \"react-router-dom\";\nimport { AuthContext } from \"../context/AuthContext\";\n\nconst LoginPage = () => {\n  const [alert, setAlert] = useState(false);\n  const [alertMessage, setAlertMessage] = useState(\"\");\n  const [email, setEmail] = useState<string>(\"\");\n  const [password, setPassword] = useState<string>(\"\");\n  const navigate = useNavigate();\n  const context = useContext(AuthContext);\n\n\n  const handleChangeEmail = (event: {\n    target: { value: React.SetStateAction<string> };\n  }) => {\n    setEmail(event.target.value);\n  };\n\n  const handleChangePassword = (event: {\n    target: { value: React.SetStateAction<string> };\n  }) => {\n    setPassword(event.target.value);\n  };\n\n  const handleLoginButton = () => {\n    const auth = getAuth();\n    signInWithEmailAndPassword(auth, email, password)\n      .then((userCredential) => {\n        navigate(\"/\");\n      })\n      .catch((error) => {\n        setAlert(true);\n        if (error.code === \"auth/email-already-in-use\") {\n          setAlertMessage(\"このメールアドレスは既存です\");\n        }\n        // const errorCode = error.code;\n        // const errorMessage = error.message;\n        console.log(error);\n      });\n  };\n\n  return (\n    <>\n      {context.isLoggedIn ? (\n        <>\n          <Navigate to={\"/\"} />\n        </>\n      ) : (\n        <>\n          <h1>ログイン</h1>\n          {alert && <Alert variant=\"danger\">{alertMessage}</Alert>}\n\n          <Form>\n            <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n              <Form.Label>Email address</Form.Label>\n              <Form.Control\n                type=\"email\"\n                placeholder=\"Enter email\"\n                value={email}\n                onChange={handleChangeEmail}\n              />\n              <Form.Text className=\"text-muted\"></Form.Text>\n            </Form.Group>\n\n            <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\n              <Form.Label>Password</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"Password\"\n                value={password}\n                onChange={handleChangePassword}\n              />\n            </Form.Group>\n            <Button variant=\"primary\" type=\"button\" onClick={handleLoginButton}>\n              Submit\n            </Button>\n            <br></br>\n            <small>\n              <Link to={\"/register\"}>新規登録はこちら</Link>\n            </small>\n          </Form>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default LoginPage;\n"]},"metadata":{},"sourceType":"module"}